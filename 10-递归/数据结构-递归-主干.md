# 递归

[TOC]

## 基本介绍

递归是一种应用非常广泛的算法（或者编程技巧）。很多数据结构和算法的编码实现都要用到递归，比如 DFS深度优先搜索、前中后序二又树遍历等等。

利弊：利是递归代码的表达力很强，写起来非常简洁；而弊就是空间复杂度高、有堆栈溢出的风险、存在重复计算、过多的函数调用会耗时较多等问题。

## 递归需要满足的三个条件

1，一个问题可以分解为几个子问题

2，问题和子问题，除了数据规模不同，求解思路一样。

3，存在递归终止条件

## 如何编写递归代码

关键：将问题化小，写出递归公式，找出终止条件

只要遇到递归，我们就把它抽象成一个递推公式，不用想一层层的调用关系，不要试图用人脑去分解递归的每个步骤。

## 警惕堆栈溢出

限制递归调用的最大深度

```
// 全局变量，表示递归的深度。
int depth = 0;

int f(int n) {
    ++depth；
    if (depth > 1000) throw exception;

    if (n == 1) return 1;
    return f(n-1) + 1;
}
```

## 警惕重复计算

为了避免重复计算，可以通过一个数据结构（比如散列表）来保存已经求解过的f（k）。

## 递归的调试

调试递归:
1，打印日志发现，递归值。
2，结合条件断点进行调试。