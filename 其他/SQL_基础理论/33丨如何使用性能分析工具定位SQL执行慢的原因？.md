# 33丨如何使用性能分析工具定位SQL执行慢的原因？

[TOC]

## 疑问

数据库服务器的优化分析的步骤是怎样的？中间有哪些需要注意的地方？

如何使用慢查询日志查找执行慢的 SQL 语句？

如何使用 EXPLAIN 查看 SQL 执行计划？

如何使用 SHOW PROFILING 分析 SQL 执行步骤中的每一步的执行时间？

## 数据库服务器的优化步骤

整个流程划分成了观察（Show status）和行动（Action）两个部分。字母 S 的部分代表观察（会使用相应的分析工具），字母 A 代表的部分是行动（对应分析可以采取的行动）。

![数据库服务器的优化步骤](pics/998b1a255fe608856ac043eb9c36d237.png)

具体内容查看专栏

## 使用慢查询定位执行慢的 SQL

略

## 如何使用 EXPLAIN 查看执行计划

略

## 使用 SHOW PROFILE 查看 SQL 的具体执行成本

略

## 总结

通过慢查询日志定位执行慢的 SQL，然后通过 EXPLAIN 分析该 SQL 语句是否使用到了索引，以及具体的数据表访问方式是怎样的。同时也可以使用 SHOW PROFILE 进一步了解 SQL 每一步的执行时间，包括 I/O 和 CPU 等资源的使用情况。